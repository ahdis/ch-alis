<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
	<id value="ch-alis-patient" />
	<url value="http://fhir.ch/ig/ch-alis/StructureDefinition/ch-alis-patient" />
	<version value="0.1.0" />
	<name value="ChAlisPatient" />
	<title value="CH ALIS Patient Profile" />
	<status value="draft" />
	<date value="2020-11-26" />
	<publisher value="ALIS-Connect" />
	<contact>
		<name value="ALIS-Connect" />
		<telecom>
			<system value="url" />
			<value value="https://www.alis-connect.ch/" />
		</telecom>
	</contact>
	<description value="Base definition for the Patient resource in the context of ALIS-Connect." />
	<jurisdiction>
		<coding>
			<system value="urn:iso:std:iso:3166" />
			<code value="CH" />
		</coding>
	</jurisdiction>
	<fhirVersion value="4.0.1" />
	<mapping>
		<identity value="alis"/>
		<name value="Zertifizierungsdokument ALIS-Connect"/>
		<comment value="Zertifizierung ALIS V4.3_2020"/>
	</mapping>
	<kind value="resource" />
	<abstract value="false" />
	<type value="Patient" />
	<baseDefinition value="http://fhir.ch/ig/ch-core/StructureDefinition/ch-core-patient" />
	<derivation value="constraint" />
	<differential>
		<element id="Patient">
			<path value="Patient"/>
			<short value="CH ALIS Patient"/>
		</element>

		<!-- 2.2 Patient.PID (PatientID) -->
		<element id="Patient.identifier">
            <path value="Patient.identifier" />
            <slicing>
                <discriminator>
                    <type value="pattern" />
                    <path value="$this" />
                </discriminator>
                <rules value="open" />
            </slicing>
			<max value="1"/>
        </element>
		<element id="Patient.identifier:LocalPid">
            <path value="Patient.identifier" />
            <sliceName value="LocalPid" />
			<min value="1"/>
            <patternIdentifier>
                <type>
                    <coding>
                        <system value="http://terminology.hl7.org/CodeSystem/v2-0203" />
                        <code value="MR" />
                    </coding>
                </type>
            </patternIdentifier>
        </element>
		<element id="Patient.identifier:LocalPid.system">
            <path value="Patient.identifier.system" />
        </element>
        <element id="Patient.identifier:LocalPid.value">
            <path value="Patient.identifier.value" />
			<short value="PatientID"/>
			<mapping>
				<identity value="alis"/>
				<map value="PatientID"/>
			</mapping>
        </element>

		<element id="Patient.name">
            <path value="Patient.name" />
			<max value="1"/>
        </element>
		<!-- 2.3 Patient.Name (PatientName) -->
		<element id="Patient.name.family">
            <path value="Patient.name.family" />
			<short value="PatientName"/>
			<mapping>
				<identity value="alis"/>
				<map value="PatientName"/>
			</mapping>
        </element>
		<!-- 2.4 Patient.Vorname (PatientGivenName) -->
		<element id="Patient.name.given">
            <path value="Patient.name.given" />
			<short value="PatientGivenName"/>
			<max value="1"/>
			<mapping>
				<identity value="alis"/>
				<map value="PatientGivenName"/>
			</mapping>
        </element>

		<!-- 2.6 Patient.Geschlecht (PatientGender) -->
		<element id="Patient.gender">
            <path value="Patient.gender" />
			<short value="PatientGender"/>
			<mapping>
				<identity value="alis"/>
				<map value="PatientGender"/>
			</mapping>
        </element>

		<!-- 2.5 Patient.GebDatum (PatientBirthDate) -->
        <element id="Patient.birthDate">
            <path value="Patient.birthDate" />
			<short value="PatientBirthDate"/>
			<mapping>
				<identity value="alis"/>
				<map value="PatientBirthDate"/>
			</mapping>
        </element>

	</differential>
</StructureDefinition>