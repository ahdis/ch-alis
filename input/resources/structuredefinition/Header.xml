<?xml version="1.0" encoding="UTF-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
    <id value="Header"/>
    <extension url="http://hl7.org/fhir/StructureDefinition/elementdefinition-namespace">
        <valueUri value="noNamespace"/>
    </extension>
    <url value="http://fhir.ch/ig/ch-alis/StructureDefinition/Header"/>
    <version value="0.1.0"/>
    <name value="ChAlisLeistungsschnittstelleHeader"/>
    <title value="CH ALIS Leistungsschnittstelle - Header"/>
    <status value="draft"/>
    <date value="2020-08-13"/>
    <publisher value="ALIS-Connect"/>
    <contact>
        <name value="ALIS-Connect"/>
        <telecom>
            <system value="url"/>
            <value value="https://www.alis-connect.ch/"/>
        </telecom>
    </contact>
    <description value="This logical model describes the Header of 'Leistungsschnittstelle ALIS Version 4.3'."/>
    <jurisdiction>
        <coding>
            <system value="urn:iso:std:iso:3166"/>
            <code value="CH"/>
        </coding>
    </jurisdiction>
    <fhirVersion value="4.0.1"/>
    <kind value="logical"/>
    <abstract value="false"/>
    <type value="Header"/>
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Base"/>
    <derivation value="specialization"/>
    <differential>
        <!-- 1 HeaderInformation -->
        <element id="Header">
            <path value="Header"/>
            <definition value="1, HeaderInformation"/>
            <min value="1"/>
            <max value="1"/>
        </element>
         <!-- 1 Version --> 
        <element id="Header.Version">
            <path value="Header.Version"/>
            <representation value="xmlAttr"/>
            <short value="Optional according to specification, and required according to XSD"/>
            <definition value="1, Header-Attribut Version"/>
            <min value="0"/>
            <max value="1"/>
            <type>
                <code value="decimal"/>
            </type>
        </element>
        <!-- 1.1 -->
        <element id="Header.ReceivingApplication">
            <path value="Header.ReceivingApplication"/>
            <definition value="1.1, Empfänger, Alphanum. (30), Text, 3 stufig"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>        
        <!-- 1.2 --> 
        <element id="Header.ReceivingFacility">
            <path value="Header.ReceivingFacility"/>
            <definition value="1.2, MandantenNr, Alphanum. (10), Mandantennummer des. Empfängers, 3 stufig"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>
        <!-- 1.3 --> 
        <element id="Header.ReceivingServiceCode">
            <path value="Header.ReceivingServiceCode"/>
            <definition value="1.3, Einrichtung, Alphanum. (30), Einrichtung des. Empfänger, 3 stufig"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>
        <!-- 1.4 -->
        <element id="Header.SendingApplication">
            <path value="Header.SendingApplication"/>
            <definition value="1.4, Sender, Alphanum. (30), Text, 3 stufig"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>
        <!-- 1.5 -->
        <element id="Header.SendingFacility">
            <path value="Header.SendingFacility"/>
            <definition value="1.5, MandantenNr, Alphanum. (10), Mandantennummer des Senders, 3 stufig"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>
        <!-- 1.6 -->
        <element id="Header.SendingServiceCode">
            <path value="Header.SendingServiceCode"/>
            <definition value="1.6, Einrichtung, Alphanum. (30), Einrichtung des Sender, 3 stufig"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>
        <!-- 1.7 -->
        <element id="Header.MessageControlID">
            <path value="Header.MessageControlID"/>
            <definition value="1.7, Auftrags-ID, Numerisch, z.B. Batch- oder Stapelnummer"/>
            <min value="1"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/UnsignedInt"/>
            </type>
        </element>
        <!-- 1.8 -->
        <element id="Header.HeaderErrorCode">
            <path value="Header.HeaderErrorCode"/>
            <definition value="1.8, Fehlercode, Alphanum., Fehlertabelle bei unbekanntem Feldinhalt, inkorrekten Werten etc., Optional"/>
            <min value="0"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>
        <!-- 1.9 -->
        <element id="Header.SoftwareReleaseNumber">
            <path value="Header.SoftwareReleaseNumber"/>
            <short value="Optional according to specification, and required according to XSD"/>
            <definition value="1.9, Version Standardschnittstelle des exportierendes Systems, Alphanum. (30), Version der betriebenen Software des Senders, Optional"/>
            <min value="0"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Text"/>
            </type>
        </element>
        <!-- 1.10 -->
        <element id="Header.FileCreationDate">
            <path value="Header.FileCreationDate"/>
            <definition value="1.10, Fileerstellungs-datum, Gem. XML-Standard datetime, Optional"/>
            <min value="0"/>
            <max value="1"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/DateTime"/>
            </type>
        </element>

        <!-- 2 Patient -->
        <element id="Header.Visit">
            <path value="Header.Visit"/>
            <definition value="2, Patient"/>
            <min value="1"/>
            <max value="*"/>
            <type>
                <code value="http://fhir.ch/ig/ch-alis/StructureDefinition/Visit"/>
            </type>
        </element>
    </differential>
</StructureDefinition>